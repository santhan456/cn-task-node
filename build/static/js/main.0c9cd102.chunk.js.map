{"version":3,"sources":["store/actions.ts","store/api.ts","store/selectors.ts","App.tsx","store/reducer.ts","store/index.ts","index.tsx"],"names":["FETCH_NEWS_PENDING","FETCH_NEWS_SUCCESS","fetchNews","searchInput","page","dispatch","type","fetch","then","res","json","error","data","catch","fetchNewsError","getNewsList","state","articles","getNewsLoadingState","isLoading","getPageNumber","App","connect","pageNumber","news","bindActionCreators","getNews","props","React","useState","changeSearchInput","useEffect","map","newsItem","index","urlToImage","title","description","span","hoverable","cover","alt","src","onChange","debounce","e","target","value","className","style","alignContent","id","size","placeholder","allowClear","onSearch","input","width","margin","gutter","justify","wrap","align","defaultState","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","action","totalResults","applyMiddleware","thunk","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0c9cd102.chunk.js","sourcesContent":["export const FETCH_NEWS_PENDING = \"FETCH_NEWS_PENDING\";\nexport const FETCH_NEWS_SUCCESS = \"FETCH_NEWS_SUCCESS\";\nexport const FETCH_NEWS_ERROR = \"FETCH_NEWS_ERROR\";\n\nexport function fetchNewsPending() {\n  return {\n    type: FETCH_NEWS_PENDING,\n  };\n}\n\nexport function fetchNewsSuccess(data: any) {\n  return {\n    type: FETCH_NEWS_SUCCESS,\n    data\n  }\n}\n\nexport function fetchNewsError(error: Error) {\n  return {\n    type: FETCH_NEWS_ERROR,\n    error: error,\n  };\n}","import {\r\n    fetchNewsPending,\r\n    fetchNewsSuccess,\r\n    fetchNewsError,\r\n  } from \"./actions\";\r\n\r\n  const endPoint: string = \"\";\r\n  // const endPoint: string = \"http://localhost:2000\";\r\n  \r\n  export function fetchNews(searchInput?: string, page?: string) {\r\n    return (dispatch: any) => {\r\n      dispatch(fetchNewsPending());\r\n      fetch(`${endPoint}/news?q=${searchInput}&page=${page}`)\r\n        .then((res) => res.json())\r\n        .then((res) => {\r\n          if (res.error) {\r\n            throw res.error;\r\n          }\r\n          dispatch(fetchNewsSuccess(res));\r\n          return res;\r\n        })\r\n        .catch((error) => {\r\n          dispatch(fetchNewsError(error));\r\n        });\r\n    };\r\n  }","  \nimport { State } from \"./reducer\";\n\nexport function getNewsList(state: State): any[] {\n  const { articles } = state;\n  return articles;\n}\n\nexport function getNewsLoadingState(state: State): boolean {\n  return state.isLoading;\n}\n\nexport function getPageNumber(state: State): string | undefined{\n  return state.page;\n}","import Card from 'antd/lib/card';\nimport Meta from 'antd/lib/card/Meta';\nimport Col from 'antd/lib/grid/col';\nimport Row from 'antd/lib/grid/row';\nimport Search from 'antd/lib/input/Search';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport './App.css';\nimport { fetchNews } from './store/api';\nimport { State } from './store/reducer';\nimport { getNewsList, getNewsLoadingState, getPageNumber } from './store/selectors';\nimport {debounce} from \"lodash-es\";\nimport Spin from 'antd/lib/spin';\n\nfunction AppImpl(props:any) {\n  const {getNews, news, pageNumber, isLoading} = props;\n  \n  const [searchInput, changeSearchInput] = React.useState<string>(\"\");\n\n  // React.useEffect(() => {\n  //   if(news?.length === 0 && isLoading){\n  //     getNews(undefined, pageNumber);\n  //   }\n  // }, [news, isLoading]);\n\n  React.useEffect(() => {\n      !isLoading && getNews(searchInput, pageNumber);\n  }, [searchInput]);\n\n  const articles = news.map((newsItem:any, index: number) => {\n    const {urlToImage, title, description} = newsItem;\n    return (\n      <Col  span={7}  key={index}>\n        <Card\n          hoverable={true}\n          cover={urlToImage && <img alt=\"example\" src={urlToImage} />}\n        >\n        <Meta title={title} description={description} />\n        </Card>\n      </Col>\n    )\n  });\n\n  const onChange = debounce((e:any) => {\n      e?.target?.value && changeSearchInput(e.target.value);\n  }, 300);\n\n  const onSearch = (input:string) => {\n    input && changeSearchInput(input);\n  };\n\n  return (\n    <div className=\"App\" style={{alignContent: \"flex-start\"}}>\n      {isLoading && <div id=\"overlay\">\n        <Spin size=\"large\" />\n      </div>}\n       <Search\n        onChange={onChange}\n        placeholder=\"input search text\"\n        allowClear={true}\n        onSearch={onSearch}\n        size=\"large\"\n        style={{ width: 600, margin: '30px auto' }}\n      />\n      <Row gutter={[16, 16]} justify=\"center\" wrap={true}  align=\"stretch\" >\n        {articles}\n      </Row>\n    </div>\n  );\n}\n\nfunction mapStateToProps(state: State): any {\n  return {\n    isLoading: getNewsLoadingState(state),\n    pageNumber: getPageNumber(state),\n    news: getNewsList(state)\n  };\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n  return {\n    ...bindActionCreators(\n      {\n        getNews: fetchNews,\n      },dispatch),\n  }\n}\n\nconst App = (connect(mapStateToProps, mapDispatchToProps)(AppImpl));\n\nexport default App;","import {\n    FETCH_NEWS_PENDING,\n    FETCH_NEWS_SUCCESS,\n  } from \"./actions\";\n  \n  export interface State {\n    articles: any[];\n    isLoading: boolean;\n    page?: string;\n    totalResults?: number\n  }\n  \n  const defaultState: State = {\n    articles: [],\n    isLoading: false,\n    page: \"1\",\n  };\n  \n  export const reducer = function (state: State = defaultState, action: any) {\n    switch (action.type) {\n      case FETCH_NEWS_PENDING:\n        return {\n          ...state,\n          isLoading: true,\n        };\n      case FETCH_NEWS_SUCCESS:{\n        const {articles, totalResults} = action.data;\n        return {\n            ...state,\n            articles,\n            totalResults,\n            isLoading: false,\n        };\n      }\n      default:\n        return state;\n    }\n  };","import { createStore, applyMiddleware, compose } from \"redux\";\nimport {reducer} from \"./reducer\";\nimport thunk from \"redux-thunk\";\n\nconst composeEnhancers =\n  (window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst store = createStore(\n  reducer,\n  /* preloadedState, */ composeEnhancers(applyMiddleware(thunk))\n);\n\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport {Provider} from \"react-redux\";\nimport store from \"./store\";\nimport 'antd/dist/antd.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n    <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}